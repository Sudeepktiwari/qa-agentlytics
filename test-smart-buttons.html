<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Button Generation - Customer Profiling Demo</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f5f5f5;
      }
      .demo-container {
        background: white;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .page-content {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid #007bff;
      }
      .button-analysis {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 20px 0;
      }
      .before-buttons {
        background: #fff3cd;
        padding: 15px;
        border-radius: 8px;
        border: 1px solid #ffeaa7;
      }
      .after-buttons {
        background: #d1ecf1;
        padding: 15px;
        border-radius: 8px;
        border: 1px solid #bee5eb;
      }
      .button-example {
        background: #e9ecef;
        padding: 8px 16px;
        border-radius: 4px;
        margin: 5px;
        display: inline-block;
        border: 1px solid #ced4da;
        font-size: 14px;
      }
      .good-button {
        background: #d4edda;
        border-color: #c3e6cb;
        color: #155724;
      }
      .poor-button {
        background: #f8d7da;
        border-color: #f5c6cb;
        color: #721c24;
      }
      .profiling-insight {
        background: #e7f3ff;
        padding: 15px;
        border-radius: 8px;
        margin: 10px 0;
        border-left: 4px solid #0066cc;
      }
      .test-scenario {
        background: white;
        border: 2px solid #dee2e6;
        border-radius: 8px;
        margin: 15px 0;
      }
      .scenario-header {
        background: #f8f9fa;
        padding: 15px;
        border-bottom: 1px solid #dee2e6;
        font-weight: bold;
        border-radius: 8px 8px 0 0;
      }
      .scenario-content {
        padding: 15px;
      }
      .test-button {
        background: #28a745;
        color: white;
        padding: 12px 24px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin: 5px;
        font-size: 16px;
      }
      .test-button:hover {
        background: #218838;
      }
      .customer-profile {
        background: #fff3cd;
        padding: 10px;
        border-radius: 4px;
        margin: 10px 0;
        font-style: italic;
      }
    </style>
  </head>
  <body>
    <h1>üéØ Smart Button Generation - Customer Profiling Demo</h1>
    <p>
      See how the enhanced button generation creates contextual options that
      help profile customers based on actual page content.
    </p>

    <div class="demo-container">
      <h2>üîÑ Before vs After: Button Quality</h2>

      <div class="button-analysis">
        <div class="before-buttons">
          <h3>‚ùå Generic Buttons (Before)</h3>
          <div class="button-example poor-button">Learn More</div>
          <div class="button-example poor-button">Get Started</div>
          <div class="button-example poor-button">Contact Us</div>

          <p><strong>Problems:</strong></p>
          <ul>
            <li>Not specific to page content</li>
            <li>Don't help identify customer type</li>
            <li>Generic and uninformative</li>
            <li>Miss profiling opportunities</li>
          </ul>
        </div>

        <div class="after-buttons">
          <h3>‚úÖ Smart Buttons (After)</h3>
          <div class="button-example good-button">Startup Plans</div>
          <div class="button-example good-button">Enterprise Quote</div>
          <div class="button-example good-button">API Integration</div>

          <p><strong>Improvements:</strong></p>
          <ul>
            <li>Based on actual page features</li>
            <li>Help identify company size</li>
            <li>Reveal technical sophistication</li>
            <li>Enable customer profiling</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="demo-container">
      <h2>üìã Page-Specific Button Generation Examples</h2>

      <div class="test-scenario">
        <div class="scenario-header">üí∞ Scenario 1: Pricing Page</div>
        <div class="scenario-content">
          <div class="page-content">
            <strong>Page Content:</strong> "Flexible pricing for teams of all
            sizes. Starter Plan $29/month, Professional $99/month, Enterprise
            custom pricing. Volume discounts available."
          </div>

          <div class="profiling-insight">
            <strong>Smart Button Strategy:</strong>
            <div class="button-example good-button">Starter Features</div>
            <div class="button-example good-button">Team Pricing</div>
            <div class="button-example good-button">Enterprise Quote</div>
          </div>

          <div class="customer-profile">
            <strong>Customer Profiling:</strong> Button choice reveals company
            size and budget range
            <ul>
              <li>"Starter Features" ‚Üí Small business, budget-conscious</li>
              <li>"Team Pricing" ‚Üí Growing company, mid-market</li>
              <li>"Enterprise Quote" ‚Üí Large company, custom needs</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="test-scenario">
        <div class="scenario-header">üîß Scenario 2: Features Page</div>
        <div class="scenario-content">
          <div class="page-content">
            <strong>Page Content:</strong> "Advanced automation, API
            integrations, custom workflows, enterprise security, real-time
            analytics, mobile apps."
          </div>

          <div class="profiling-insight">
            <strong>Smart Button Strategy:</strong>
            <div class="button-example good-button">Basic Automation</div>
            <div class="button-example good-button">API Guide</div>
            <div class="button-example good-button">Enterprise Security</div>
          </div>

          <div class="customer-profile">
            <strong>Customer Profiling:</strong> Button choice reveals technical
            level and complexity needs
            <ul>
              <li>"Basic Automation" ‚Üí Simple needs, low technical level</li>
              <li>"API Guide" ‚Üí Technical user, integration needs</li>
              <li>
                "Enterprise Security" ‚Üí Large company, compliance requirements
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="test-scenario">
        <div class="scenario-header">üîó Scenario 3: Integrations Page</div>
        <div class="scenario-content">
          <div class="page-content">
            <strong>Page Content:</strong> "Connect with Salesforce, HubSpot,
            Slack, Zapier, custom APIs. Pre-built connectors for popular tools."
          </div>

          <div class="profiling-insight">
            <strong>Smart Button Strategy:</strong>
            <div class="button-example good-button">Salesforce Setup</div>
            <div class="button-example good-button">Popular Connectors</div>
            <div class="button-example good-button">Custom APIs</div>
          </div>

          <div class="customer-profile">
            <strong>Customer Profiling:</strong> Button choice reveals existing
            tech stack and integration complexity
            <ul>
              <li>"Salesforce Setup" ‚Üí Enterprise sales team, CRM-focused</li>
              <li>
                "Popular Connectors" ‚Üí Standard tech stack, simple integrations
              </li>
              <li>"Custom APIs" ‚Üí Technical team, custom requirements</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="demo-container">
      <h2>üß™ Live Smart Button Test</h2>
      <p>Test the enhanced button generation with different page types:</p>

      <button class="test-button" onclick="testPageType('pricing')">
        üí∞ Test Pricing Page
      </button>
      <button class="test-button" onclick="testPageType('features')">
        üîß Test Features Page
      </button>
      <button class="test-button" onclick="testPageType('security')">
        üîí Test Security Page
      </button>
      <button class="test-button" onclick="testPageType('integrations')">
        üîó Test Integrations Page
      </button>

      <div id="testResults"></div>
    </div>

    <div class="demo-container">
      <h2>üéØ Customer Profiling Strategy</h2>

      <h3>üìä Progressive Profiling Through Buttons:</h3>

      <div class="profiling-insight">
        <strong>Followup #1: Basic Segmentation</strong>
        <ul>
          <li>
            <strong>Company Size:</strong> "Solo Tools" vs "Team Plans" vs
            "Enterprise Scale"
          </li>
          <li>
            <strong>Technical Level:</strong> "Simple Setup" vs "Advanced
            Features" vs "Developer APIs"
          </li>
          <li>
            <strong>Use Case:</strong> Based on actual page features and
            services
          </li>
        </ul>
      </div>

      <div class="profiling-insight">
        <strong>Followup #2: Deeper Qualification</strong>
        <ul>
          <li>
            <strong>Budget Range:</strong> "Free Trial" vs "Standard Plans" vs
            "Custom Pricing"
          </li>
          <li>
            <strong>Implementation:</strong> "Quick Start" vs "Guided Setup" vs
            "Custom Implementation"
          </li>
          <li>
            <strong>Industry Specific:</strong> If page mentions verticals
          </li>
        </ul>
      </div>

      <div class="profiling-insight">
        <strong>Followup #3: Conversion Ready</strong>
        <ul>
          <li>
            <strong>Decision Timeline:</strong> "Start Trial" vs "Get Demo" vs
            "Talk to Expert"
          </li>
          <li>
            <strong>Final Qualification:</strong> Based on previous button
            choices
          </li>
          <li>
            <strong>Email Collection:</strong> With clear value proposition
          </li>
        </ul>
      </div>
    </div>

    <script>
      async function testPageType(pageType) {
        const resultsDiv = document.getElementById("testResults");
        resultsDiv.innerHTML = `<p>üîÑ Testing ${pageType} page button generation...</p>`;

        const pageContent = {
          pricing: {
            title: "Flexible Pricing Plans",
            description:
              "Starter $29/month, Professional $99/month, Enterprise custom pricing with volume discounts",
            url: "https://example.com/pricing",
          },
          features: {
            title: "Advanced Features & Automation",
            description:
              "API integrations, custom workflows, enterprise security, real-time analytics, mobile apps",
            url: "https://example.com/features",
          },
          security: {
            title: "Enterprise Security & Compliance",
            description:
              "SOC2 compliance, GDPR ready, SSO integration, data encryption, audit logs",
            url: "https://example.com/security",
          },
          integrations: {
            title: "Powerful Integrations",
            description:
              "Connect with Salesforce, HubSpot, Slack, Zapier, custom APIs, pre-built connectors",
            url: "https://example.com/integrations",
          },
        };

        const content = pageContent[pageType];

        try {
          const response = await fetch("/api/chat", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              messages: [
                {
                  role: "user",
                  content: `I'm interested in learning more about your ${pageType} options`,
                },
              ],
              adminId: "test-admin",
              url: content.url,
              metadata: {
                title: content.title,
                description: content.description,
              },
            }),
          });

          const data = await response.json();

          resultsDiv.innerHTML = `
                    <div class="test-scenario">
                        <div class="scenario-header">üìã ${
                          content.title
                        } - Button Test Results</div>
                        <div class="scenario-content">
                            <div class="page-content">
                                <strong>Page Content:</strong> ${
                                  content.description
                                }
                            </div>
                            
                            <div class="profiling-insight">
                                <strong>Generated Message:</strong><br>
                                ${data.mainText || "No message generated"}
                            </div>
                            
                            <div class="profiling-insight">
                                <strong>Smart Buttons Generated:</strong><br>
                                ${
                                  data.buttons
                                    ? data.buttons
                                        .map(
                                          (btn) =>
                                            `<span class="button-example good-button">${btn}</span>`
                                        )
                                        .join(" ")
                                    : "No buttons generated"
                                }
                            </div>
                            
                            <div class="customer-profile">
                                <strong>Customer Profiling Analysis:</strong><br>
                                These buttons help identify:<br>
                                ‚Ä¢ Company size through plan/feature preferences<br>
                                ‚Ä¢ Technical sophistication through complexity choices<br>
                                ‚Ä¢ Budget range through pricing tier interest<br>
                                ‚Ä¢ Implementation needs through setup preferences
                            </div>
                        </div>
                    </div>
                `;
        } catch (error) {
          resultsDiv.innerHTML += `<div style="background: #f8d7da; color: #721c24; padding: 10px; border-radius: 4px;">‚ùå Error: ${error.message}</div>`;
        }
      }
    </script>
  </body>
</html>
